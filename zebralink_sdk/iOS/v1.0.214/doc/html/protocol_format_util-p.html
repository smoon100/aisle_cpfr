<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ZSDK_API: &lt;FormatUtil&gt; Protocol Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>&lt;FormatUtil&gt; Protocol Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="FormatUtil-p" -->
<p>Defines functions used for interacting with printer formats.  
<a href="#_details">More...</a></p>

<p><code>#import &lt;FormatUtil.h&gt;</code></p>

<p><a href="protocol_format_util-p-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(NSData *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_format_util-p.html#a7560ec130482168fe68e3817a6bea106">retrieveFormatFromPrinterWithPath:error:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves a format from the printer.  <a href="#a7560ec130482168fe68e3817a6bea106"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(NSArray *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_format_util-p.html#afedebf708690cb0afe6ae93169d5a53a">getVariableFieldsWithFormatContents:error:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a list of descriptors of the variable fields in this format.  <a href="#afedebf708690cb0afe6ae93169d5a53a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_format_util-p.html#af4eae53cc4a01aedf996974522fa3feb">printStoredFormat:withFormatData:error:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints a stored format on the printer, filling in the fields specified by the array.  <a href="#af4eae53cc4a01aedf996974522fa3feb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_format_util-p.html#aa3a49b12a9621979ea28cf3c1d25ec76">printStoredFormat:withFormatData:andWithEncoding:error:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints a stored format on the printer, filling in the fields specified by the array.  <a href="#aa3a49b12a9621979ea28cf3c1d25ec76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_format_util-p.html#a905312d60dfb94761e10193b0b51e953">printStoredFormat:withDictionary:error:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints a stored format on the printer, filling in the fields specified by the NSDictionary.  <a href="#a905312d60dfb94761e10193b0b51e953"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_format_util-p.html#a77c8ebe08f737ccfc04036c68bf40412">printStoredFormat:withDictionary:andWithEncoding:error:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints a stored format on the printer, filling in the fields specified by the NSDictionary.  <a href="#a77c8ebe08f737ccfc04036c68bf40412"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Defines functions used for interacting with printer formats. </p>
<p>Print a stored format with the given variables. This ZPL will store a format on a printer, for use with the example code. </p>
<div class="fragment"><pre class="fragment"> ^XA
 ^DFE:FORMAT.ZPL
 ^FS
 ^FT26,243^A0N,56,55^FH\^FN12<span class="stringliteral">&quot;First Name&quot;</span>^FS
 ^FT26,296^A0N,56,55^FH\^FN11<span class="stringliteral">&quot;Last Name&quot;</span>^FS
 ^FT258,73^A0N,39,38^FH\^FDVisitor^FS
 ^BY2,4^FT403,376^B7N,4,0,2,2,N^FH^FDSerial Number^FS
 ^FO5,17^GB601,379,8^FS
 ^XZ    
</pre></div><div class="fragment"><pre class="fragment"><span class="preprocessor">#import &quot;TcpPrinterConnection.h&quot;</span>
<span class="preprocessor">#import &lt;UIKit/UIKit.h&gt;</span>
<span class="preprocessor">#import &quot;ZebraPrinter.h&quot;</span>
<span class="preprocessor">#import &quot;ZebraPrinterFactory.h&quot;</span>

<a class="code" href="interface_tcp_printer_connection.html" title="Establishes a TCP connection to a printer.">TcpPrinterConnection</a> *zebraPrinterConnection = [[<a class="code" href="interface_tcp_printer_connection.html" title="Establishes a TCP connection to a printer.">TcpPrinterConnection</a> alloc] initWithAddress:<span class="stringliteral">@&quot;192.168.1.100&quot;</span> andWithPort:9100];

BOOL success = [zebraPrinterConnection open];
NSError *error = nil;
id&lt;ZebraPrinter,NSObject&gt; printer = [<a class="code" href="interface_zebra_printer_factory.html" title="A factory used to acquire an instance of a ZebraPrinter.">ZebraPrinterFactory</a> getInstance:zebraPrinterConnection error:&amp;error];
<span class="comment">// FORMAT.ZPL has two fields - the first is number 12, the second is number 11</span>
NSMutableDictionary *vars = [[NSMutableDictionary alloc] init]; 
[vars setObject:<span class="stringliteral">@&quot;John&quot;</span> forKey:[NSNumber numberWithInt:12]];
[vars setObject:<span class="stringliteral">@&quot;Smith&quot;</span> forKey:[NSNumber numberWithInt:11]];
success = success &amp;&amp; [[printer getFormatUtil] printStoredFormat:<span class="stringliteral">@&quot;E:FORMAT.ZPL&quot;</span> withDictionary:vars error:&amp;error];

<span class="keywordflow">if</span> (error != nil || printer == nil || success == NO) {
        UIAlertView *errorAlert = [[UIAlertView alloc] initWithTitle:<span class="stringliteral">@&quot;Error&quot;</span> message:[error localizedDescription] delegate:nil cancelButtonTitle:<span class="stringliteral">@&quot;Ok&quot;</span> otherButtonTitles:nil];
        [errorAlert show];
        [errorAlert release];
} 

[zebraPrinterConnection close];
[zebraPrinterConnection release];
[vars release];
</pre></div> <hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afedebf708690cb0afe6ae93169d5a53a"></a><!-- doxytag: member="FormatUtil&#45;p::getVariableFieldsWithFormatContents:error:" ref="afedebf708690cb0afe6ae93169d5a53a" args="(NSString *formatContents,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray*) getVariableFieldsWithFormatContents: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>formatContents</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of descriptors of the variable fields in this format. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>formatContents</em>&nbsp;</td><td>The contents of the recalled format. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Will be set to the error that occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A list of field data descriptors. In CPCL the nth element of the list will contain the integer n and no name. In ZPL, each element will contain an ^FN number and a variable name if present. If the format contains multiple ^FNs with the same number, only the last one will be in the result.<br/>
 See <a class="el" href="interface_field_description_data.html" title="A class used to describe format variable fields.">FieldDescriptionData</a> for an example of how variable fields look. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_field_description_data.html" title="A class used to describe format variable fields.">FieldDescriptionData</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a77c8ebe08f737ccfc04036c68bf40412"></a><!-- doxytag: member="FormatUtil&#45;p::printStoredFormat:withDictionary:andWithEncoding:error:" ref="a77c8ebe08f737ccfc04036c68bf40412" args="(NSString *formatPathOnPrinter,[withDictionary] NSMutableDictionary *vars,[andWithEncoding] NSStringEncoding encoding,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) printStoredFormat: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>formatPathOnPrinter</em></td>
        </tr>
        <tr>
          <td class="paramkey">withDictionary:</td>
          <td></td>
          <td class="paramtype">(NSMutableDictionary *)&nbsp;</td>
          <td class="paramname"> <em>vars</em></td>
        </tr>
        <tr>
          <td class="paramkey">andWithEncoding:</td>
          <td></td>
          <td class="paramtype">(NSStringEncoding)&nbsp;</td>
          <td class="paramname"> <em>encoding</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints a stored format on the printer, filling in the fields specified by the NSDictionary. </p>
<p>The values of any format variables will be encoded using the provided <code>encoding</code> type. e.g. NSUTF8StringEncoding. See NSStringEncoding for more information about encoding types. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>formatPathOnPrinter</em>&nbsp;</td><td>The location of the file on the printer (e.g. "E:FORMAT.ZPL"). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vars</em>&nbsp;</td><td>An NSDictionary which contains the key/value pairs for the stored format. For ZPL formats, the key number should correspond directly to the number of the field in the format. For CPCL formats, the values will be passed in ascending numerical order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>encoding</em>&nbsp;</td><td>A character-encoding name (e.g. NSUTF8StringEncoding). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Will be set to the error that occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>NO</code> if there was an error printing the format. </dd></dl>

</div>
</div>
<a class="anchor" id="a905312d60dfb94761e10193b0b51e953"></a><!-- doxytag: member="FormatUtil&#45;p::printStoredFormat:withDictionary:error:" ref="a905312d60dfb94761e10193b0b51e953" args="(NSString *formatPathOnPrinter,[withDictionary] NSMutableDictionary *vars,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) printStoredFormat: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>formatPathOnPrinter</em></td>
        </tr>
        <tr>
          <td class="paramkey">withDictionary:</td>
          <td></td>
          <td class="paramtype">(NSMutableDictionary *)&nbsp;</td>
          <td class="paramname"> <em>vars</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints a stored format on the printer, filling in the fields specified by the NSDictionary. </p>
<p>The values of any format variables will be encoded using the default <code>encoding</code> type. See NSStringEncoding for more information about encoding types. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>formatPathOnPrinter</em>&nbsp;</td><td>The location of the file on the printer (e.g. "E:FORMAT.ZPL"). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vars</em>&nbsp;</td><td>An NSDictionary which contains the key/value pairs for the stored format. For ZPL formats, the key number should correspond directly to the number of the field in the format. For CPCL formats, the values will be passed in ascending numerical order. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Will be set to the error that occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>NO</code> if there was an error printing the format. </dd></dl>

</div>
</div>
<a class="anchor" id="aa3a49b12a9621979ea28cf3c1d25ec76"></a><!-- doxytag: member="FormatUtil&#45;p::printStoredFormat:withFormatData:andWithEncoding:error:" ref="aa3a49b12a9621979ea28cf3c1d25ec76" args="(NSString *formatPathOnPrinter,[withFormatData] NSArray *vars,[andWithEncoding] NSStringEncoding encoding,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) printStoredFormat: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>formatPathOnPrinter</em></td>
        </tr>
        <tr>
          <td class="paramkey">withFormatData:</td>
          <td></td>
          <td class="paramtype">(NSArray *)&nbsp;</td>
          <td class="paramname"> <em>vars</em></td>
        </tr>
        <tr>
          <td class="paramkey">andWithEncoding:</td>
          <td></td>
          <td class="paramtype">(NSStringEncoding)&nbsp;</td>
          <td class="paramname"> <em>encoding</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints a stored format on the printer, filling in the fields specified by the array. </p>
<p>The values of any format variables will be encoded using the provided <code>encoding</code> type. e.g. NSUTF8StringEncoding. See NSStringEncoding for more information about encoding types. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>formatPathOnPrinter</em>&nbsp;</td><td>The location of the file on the printer (e.g. "E:FORMAT.ZPL"). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vars</em>&nbsp;</td><td>An array of strings representing the data to fill into the format. For ZPL formats, index 0 of the array corresponds to field number 2 (^FN2). For CPCL, the variables are passed in the order that they are found in the format. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>encoding</em>&nbsp;</td><td>A character-encoding name (e.g. NSUTF8StringEncoding). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Will be set to the error that occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>NO</code> if there was an error printing the format. </dd></dl>

</div>
</div>
<a class="anchor" id="af4eae53cc4a01aedf996974522fa3feb"></a><!-- doxytag: member="FormatUtil&#45;p::printStoredFormat:withFormatData:error:" ref="af4eae53cc4a01aedf996974522fa3feb" args="(NSString *formatPathOnPrinter,[withFormatData] NSArray *vars,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) printStoredFormat: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>formatPathOnPrinter</em></td>
        </tr>
        <tr>
          <td class="paramkey">withFormatData:</td>
          <td></td>
          <td class="paramtype">(NSArray *)&nbsp;</td>
          <td class="paramname"> <em>vars</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints a stored format on the printer, filling in the fields specified by the array. </p>
<p>The values of any format variables will be encoded using the default <code>encoding</code> type. See NSStringEncoding for more information about encoding types. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>formatPathOnPrinter</em>&nbsp;</td><td>The name of the format on the printer, including the extension (e.g. "E:FORMAT.ZPL"). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vars</em>&nbsp;</td><td>An array of strings representing the data to fill into the format. For ZPL formats, index 0 of the array corresponds to field number 2 (^FN2). For CPCL, the variables are passed in the order that they are found in the format. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Will be set to the error that occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>NO</code> if there was an error printing the format. </dd></dl>

</div>
</div>
<a class="anchor" id="a7560ec130482168fe68e3817a6bea106"></a><!-- doxytag: member="FormatUtil&#45;p::retrieveFormatFromPrinterWithPath:error:" ref="a7560ec130482168fe68e3817a6bea106" args="(NSString *formatPathOnPrinter,[error] NSError **error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSData*) retrieveFormatFromPrinterWithPath: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>formatPathOnPrinter</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves a format from the printer. </p>
<p>On a ZPL printer, only <code>.ZPL</code> files are supported. On a CPCL printer, only <code>.FMT</code> and <code>.LBL</code> files are supported.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>formatPathOnPrinter</em>&nbsp;</td><td>The location of the file on the printer (e.g. "E:FORMAT.ZPL"). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>Will be set to the error that occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The contents of the format file. </dd></dl>

</div>
</div>
<hr/>The documentation for this protocol was generated from the following file:<ul>
<li>FormatUtil.h</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 29 2011 13:33:18 for ZSDK_API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
